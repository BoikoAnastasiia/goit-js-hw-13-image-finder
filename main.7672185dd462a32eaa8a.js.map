{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./js/updateMarkup.js","webpack:///./index.js","webpack:///./templates/gallery_list.hbs"],"names":["myKey","searchQuerry","page","fetchArticles","url","this","fetch","headers","Authorization","then","res","json","articles","catch","error","console","log","newQuery","resetPage","refs","articlesContainer","document","querySelector","renderMurkup","pics","markup","gallery_list","insertAdjacentHTML","fetchPics","loadMoreBtn","classList","add","spin","remove","newsService","window","scrollTo","top","behavior","finally","searchForm","addEventListener","event","preventDefault","form","currentTarget","query","elements","value","innerHTML","reset","Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop"],"mappings":"qKAEMA,EAAQ,mCAEC,GACbC,aAAc,GACdC,KAAM,EACNC,cAHa,WAGG,WACRC,EAAM,uCAAuCC,KAAKJ,aAA/C,qBAAgFI,KAAKH,KAArF,sBAA+GF,EAGxH,OAAOM,MAAMF,EADG,CAAEG,QAAS,CAAEC,cAAeR,KAEzCS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,YAAkB,IAAfG,EAAe,EAAfA,SAEP,OADA,EAAKV,OACEU,KAERC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,OAEhC,YACE,OAAOT,KAAKJ,cAEd,UAAUgB,GACRZ,KAAKJ,aAAegB,GAEtBC,UArBa,WAsBXb,KAAKH,KAAO,I,qBCxBViB,EAAO,CACXC,kBAAmBC,SAASC,cAAc,iBAQ7BC,MALf,SAAsBC,GACpB,IAAMC,EAASC,IAAaF,GAC5BL,EAAKC,kBAAkBO,mBAAmB,YAAaF,ICUzD,SAASG,IACPT,KAAKU,YAAYC,UAAUC,IAAI,aAC/BZ,KAAKa,KAAKF,UAAUG,OAAO,WAC3BC,EACGN,YACAnB,MAAK,SAAAG,GACJW,EAAaX,GACbO,KAAKU,YAAYC,UAAUG,OAAO,aAElCE,OAAOC,SAAS,CACdC,IAAK,IAELC,SAAU,cAGbC,SAAQ,kBAAMpB,KAAKa,KAAKF,UAAUC,IAAI,cA7B3CZ,KAAKqB,WAAWC,iBAAiB,UAAU,SAAAC,GACzCA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cACnBX,EAAYY,MAAQF,EAAKG,SAASD,MAAME,MAExC7B,KAAKC,kBAAkB6B,UAAY,GAEnCf,EAAYhB,YACZU,IACAgB,EAAKM,WAGP/B,KAAKU,YAAYY,iBAAiB,QAASb,I,qBChB3C,IAAIuB,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,MAAO,spBACT,SAAW,CAAC,EAAE,YAAY,KAAO,SAASJ,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIC,EAON,MAAO,4BACsR,OAAvRA,GARyBL,EAAUM,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAMQN,EAAQ,QAAQU,KAAe,MAAVX,EAAiBA,EAAUD,EAAUa,aAAe,GAAIZ,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUc,QAAQ,EAAGV,EAAM,GAAG,QAAUJ,EAAUe,KAAK,KAAOX,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,QAAkBC,EAAS,IACzS,SACJ,SAAU,M","file":"main.7672185dd462a32eaa8a.js","sourcesContent":["import '../styles.css';\r\n\r\nconst myKey = 'fb416686c0cf4be5b520956836ebc075';\r\n\r\nexport default {\r\n  searchQuerry: '',\r\n  page: 1,\r\n  fetchArticles() {\r\n    const url = `https://newsapi.org/v2/everything?q=${this.searchQuerry}&language=en&page=${this.page}&pageSize=4&apiKey=${myKey}`;\r\n\r\n    const options = { headers: { Authorization: myKey } };\r\n    return fetch(url, options)\r\n      .then(res => res.json())\r\n      .then(({ articles }) => {\r\n        this.page++;\r\n        return articles;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n  get query() {\r\n    return this.searchQuerry;\r\n  },\r\n  set query(newQuery) {\r\n    this.searchQuerry = newQuery;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import gallery_list from '../templates/gallery_list.hbs';\r\n\r\nconst refs = {\r\n  articlesContainer: document.querySelector('.js-articles'),\r\n};\r\n\r\nfunction renderMurkup(pics) {\r\n  const markup = gallery_list(pics);\r\n  refs.articlesContainer.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nexport default renderMurkup;\r\n","import './styles.css';\nimport newsService from './js/apiService';\nimport renderMurkup from './js/updateMarkup';\n\nrefs.searchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const form = event.currentTarget;\n  newsService.query = form.elements.query.value;\n\n  refs.articlesContainer.innerHTML = '';\n\n  newsService.resetPage();\n  fetchPics();\n  form.reset();\n});\n\nrefs.loadMoreBtn.addEventListener('click', fetchPics);\n\nfunction fetchPics() {\n  refs.loadMoreBtn.classList.add('is-hidden');\n  refs.spin.classList.remove('sr-only');\n  newsService\n    .fetchPics()\n    .then(articles => {\n      renderMurkup(articles);\n      refs.loadMoreBtn.classList.remove('is-hidden');\n\n      window.scrollTo({\n        top: 1000000000,\n\n        behavior: 'smooth',\n      });\n    })\n    .finally(() => refs.spin.classList.add('sr-only'));\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"  <li class=\\\"gallery-list\\\">\\r\\n    <div class=\\\"photo-card\\\">\\r\\n      <img src=\\\"\\\" alt=\\\"\\\" />\\r\\n\\r\\n      <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n          1108\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">visibility</i>\\r\\n          320321\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">comment</i>\\r\\n          129\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n          <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n          176019\\r\\n        </p>\\r\\n      </div>\\r\\n    </div>\\r\\n  </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"gallery\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":27,\"column\":12}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}